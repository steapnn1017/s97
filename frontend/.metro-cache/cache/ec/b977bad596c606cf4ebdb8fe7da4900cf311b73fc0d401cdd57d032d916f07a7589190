{"dependencies":[{"name":"./helpers","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":18,"index":206},"end":{"line":4,"column":38,"index":226}}],"key":"f1qS3jT0PALHpwfgOy1Ia0GaJzk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.MissingTranslation = exports.errorStrategy = exports.messageStrategy = exports.guessStrategy = void 0;\n  const helpers_1 = require(_dependencyMap[0], \"./helpers\");\n  const guessStrategy = function (i18n, scope) {\n    if (scope instanceof Array) {\n      scope = scope.join(i18n.defaultSeparator);\n    }\n    const message = scope.split(i18n.defaultSeparator).slice(-1)[0];\n    return i18n.missingTranslationPrefix + message.replace(\"_\", \" \").replace(/([a-z])([A-Z])/g, (_match, p1, p2) => `${p1} ${p2.toLowerCase()}`);\n  };\n  exports.guessStrategy = guessStrategy;\n  const messageStrategy = (i18n, scope, options) => {\n    const fullScope = (0, helpers_1.getFullScope)(i18n, scope, options);\n    const locale = \"locale\" in options ? options.locale : i18n.locale;\n    const localeType = (0, helpers_1.inferType)(locale);\n    const fullScopeWithLocale = [localeType == \"string\" ? locale : localeType, fullScope].join(i18n.defaultSeparator);\n    return `[missing \"${fullScopeWithLocale}\" translation]`;\n  };\n  exports.messageStrategy = messageStrategy;\n  const errorStrategy = (i18n, scope, options) => {\n    const fullScope = (0, helpers_1.getFullScope)(i18n, scope, options);\n    const fullScopeWithLocale = [i18n.locale, fullScope].join(i18n.defaultSeparator);\n    throw new Error(`Missing translation: ${fullScopeWithLocale}`);\n  };\n  exports.errorStrategy = errorStrategy;\n  class MissingTranslation {\n    constructor(i18n) {\n      this.i18n = i18n;\n      this.registry = {};\n      this.register(\"guess\", exports.guessStrategy);\n      this.register(\"message\", exports.messageStrategy);\n      this.register(\"error\", exports.errorStrategy);\n    }\n    register(name, strategy) {\n      this.registry[name] = strategy;\n    }\n    get(scope, options) {\n      var _a;\n      return this.registry[(_a = options.missingBehavior) !== null && _a !== void 0 ? _a : this.i18n.missingBehavior](this.i18n, scope, options);\n    }\n  }\n  exports.MissingTranslation = MissingTranslation;\n});","lineCount":48,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"MissingTranslation"],[7,28,3,26],[7,31,3,29,"exports"],[7,38,3,36],[7,39,3,37,"errorStrategy"],[7,52,3,50],[7,55,3,53,"exports"],[7,62,3,60],[7,63,3,61,"messageStrategy"],[7,78,3,76],[7,81,3,79,"exports"],[7,88,3,86],[7,89,3,87,"guessStrategy"],[7,102,3,100],[7,105,3,103],[7,110,3,108],[7,111,3,109],[8,2,4,0],[8,8,4,6,"helpers_1"],[8,17,4,15],[8,20,4,18,"require"],[8,27,4,25],[8,28,4,25,"_dependencyMap"],[8,42,4,25],[8,58,4,37],[8,59,4,38],[9,2,5,0],[9,8,5,6,"guessStrategy"],[9,21,5,19],[9,24,5,22],[9,33,5,22,"guessStrategy"],[9,34,5,32,"i18n"],[9,38,5,36],[9,40,5,38,"scope"],[9,45,5,43],[9,47,5,45],[10,4,6,4],[10,8,6,8,"scope"],[10,13,6,13],[10,25,6,25,"Array"],[10,30,6,30],[10,32,6,32],[11,6,7,8,"scope"],[11,11,7,13],[11,14,7,16,"scope"],[11,19,7,21],[11,20,7,22,"join"],[11,24,7,26],[11,25,7,27,"i18n"],[11,29,7,31],[11,30,7,32,"defaultSeparator"],[11,46,7,48],[11,47,7,49],[12,4,8,4],[13,4,9,4],[13,10,9,10,"message"],[13,17,9,17],[13,20,9,20,"scope"],[13,25,9,25],[13,26,9,26,"split"],[13,31,9,31],[13,32,9,32,"i18n"],[13,36,9,36],[13,37,9,37,"defaultSeparator"],[13,53,9,53],[13,54,9,54],[13,55,9,55,"slice"],[13,60,9,60],[13,61,9,61],[13,62,9,62],[13,63,9,63],[13,64,9,64],[13,65,9,65],[13,66,9,66],[13,67,9,67],[14,4,10,4],[14,11,10,12,"i18n"],[14,15,10,16],[14,16,10,17,"missingTranslationPrefix"],[14,40,10,41],[14,43,11,8,"message"],[14,50,11,15],[14,51,12,13,"replace"],[14,58,12,20],[14,59,12,21],[14,62,12,24],[14,64,12,26],[14,67,12,29],[14,68,12,30],[14,69,13,13,"replace"],[14,76,13,20],[14,77,13,21],[14,94,13,38],[14,96,13,40],[14,97,13,41,"_match"],[14,103,13,47],[14,105,13,49,"p1"],[14,107,13,51],[14,109,13,53,"p2"],[14,111,13,55],[14,116,13,60],[14,119,13,63,"p1"],[14,121,13,65],[14,125,13,69,"p2"],[14,127,13,71],[14,128,13,72,"toLowerCase"],[14,139,13,83],[14,140,13,84],[14,141,13,85],[14,143,13,87],[14,144,13,88],[15,2,14,0],[15,3,14,1],[16,2,15,0,"exports"],[16,9,15,7],[16,10,15,8,"guessStrategy"],[16,23,15,21],[16,26,15,24,"guessStrategy"],[16,39,15,37],[17,2,16,0],[17,8,16,6,"messageStrategy"],[17,23,16,21],[17,26,16,24,"messageStrategy"],[17,27,16,25,"i18n"],[17,31,16,29],[17,33,16,31,"scope"],[17,38,16,36],[17,40,16,38,"options"],[17,47,16,45],[17,52,16,50],[18,4,17,4],[18,10,17,10,"fullScope"],[18,19,17,19],[18,22,17,22],[18,23,17,23],[18,24,17,24],[18,26,17,26,"helpers_1"],[18,35,17,35],[18,36,17,36,"getFullScope"],[18,48,17,48],[18,50,17,50,"i18n"],[18,54,17,54],[18,56,17,56,"scope"],[18,61,17,61],[18,63,17,63,"options"],[18,70,17,70],[18,71,17,71],[19,4,18,4],[19,10,18,10,"locale"],[19,16,18,16],[19,19,18,19],[19,27,18,27],[19,31,18,31,"options"],[19,38,18,38],[19,41,18,41,"options"],[19,48,18,48],[19,49,18,49,"locale"],[19,55,18,55],[19,58,18,58,"i18n"],[19,62,18,62],[19,63,18,63,"locale"],[19,69,18,69],[20,4,19,4],[20,10,19,10,"localeType"],[20,20,19,20],[20,23,19,23],[20,24,19,24],[20,25,19,25],[20,27,19,27,"helpers_1"],[20,36,19,36],[20,37,19,37,"inferType"],[20,46,19,46],[20,48,19,48,"locale"],[20,54,19,54],[20,55,19,55],[21,4,20,4],[21,10,20,10,"fullScopeWithLocale"],[21,29,20,29],[21,32,20,32],[21,33,21,8,"localeType"],[21,43,21,18],[21,47,21,22],[21,55,21,30],[21,58,21,33,"locale"],[21,64,21,39],[21,67,21,42,"localeType"],[21,77,21,52],[21,79,22,8,"fullScope"],[21,88,22,17],[21,89,23,5],[21,90,23,6,"join"],[21,94,23,10],[21,95,23,11,"i18n"],[21,99,23,15],[21,100,23,16,"defaultSeparator"],[21,116,23,32],[21,117,23,33],[22,4,24,4],[22,11,24,11],[22,24,24,24,"fullScopeWithLocale"],[22,43,24,43],[22,59,24,59],[23,2,25,0],[23,3,25,1],[24,2,26,0,"exports"],[24,9,26,7],[24,10,26,8,"messageStrategy"],[24,25,26,23],[24,28,26,26,"messageStrategy"],[24,43,26,41],[25,2,27,0],[25,8,27,6,"errorStrategy"],[25,21,27,19],[25,24,27,22,"errorStrategy"],[25,25,27,23,"i18n"],[25,29,27,27],[25,31,27,29,"scope"],[25,36,27,34],[25,38,27,36,"options"],[25,45,27,43],[25,50,27,48],[26,4,28,4],[26,10,28,10,"fullScope"],[26,19,28,19],[26,22,28,22],[26,23,28,23],[26,24,28,24],[26,26,28,26,"helpers_1"],[26,35,28,35],[26,36,28,36,"getFullScope"],[26,48,28,48],[26,50,28,50,"i18n"],[26,54,28,54],[26,56,28,56,"scope"],[26,61,28,61],[26,63,28,63,"options"],[26,70,28,70],[26,71,28,71],[27,4,29,4],[27,10,29,10,"fullScopeWithLocale"],[27,29,29,29],[27,32,29,32],[27,33,29,33,"i18n"],[27,37,29,37],[27,38,29,38,"locale"],[27,44,29,44],[27,46,29,46,"fullScope"],[27,55,29,55],[27,56,29,56],[27,57,29,57,"join"],[27,61,29,61],[27,62,29,62,"i18n"],[27,66,29,66],[27,67,29,67,"defaultSeparator"],[27,83,29,83],[27,84,29,84],[28,4,30,4],[28,10,30,10],[28,14,30,14,"Error"],[28,19,30,19],[28,20,30,20],[28,44,30,44,"fullScopeWithLocale"],[28,63,30,63],[28,65,30,65],[28,66,30,66],[29,2,31,0],[29,3,31,1],[30,2,32,0,"exports"],[30,9,32,7],[30,10,32,8,"errorStrategy"],[30,23,32,21],[30,26,32,24,"errorStrategy"],[30,39,32,37],[31,2,33,0],[31,8,33,6,"MissingTranslation"],[31,26,33,24],[31,27,33,25],[32,4,34,4,"constructor"],[32,15,34,15,"constructor"],[32,16,34,16,"i18n"],[32,20,34,20],[32,22,34,22],[33,6,35,8],[33,10,35,12],[33,11,35,13,"i18n"],[33,15,35,17],[33,18,35,20,"i18n"],[33,22,35,24],[34,6,36,8],[34,10,36,12],[34,11,36,13,"registry"],[34,19,36,21],[34,22,36,24],[34,23,36,25],[34,24,36,26],[35,6,37,8],[35,10,37,12],[35,11,37,13,"register"],[35,19,37,21],[35,20,37,22],[35,27,37,29],[35,29,37,31,"exports"],[35,36,37,38],[35,37,37,39,"guessStrategy"],[35,50,37,52],[35,51,37,53],[36,6,38,8],[36,10,38,12],[36,11,38,13,"register"],[36,19,38,21],[36,20,38,22],[36,29,38,31],[36,31,38,33,"exports"],[36,38,38,40],[36,39,38,41,"messageStrategy"],[36,54,38,56],[36,55,38,57],[37,6,39,8],[37,10,39,12],[37,11,39,13,"register"],[37,19,39,21],[37,20,39,22],[37,27,39,29],[37,29,39,31,"exports"],[37,36,39,38],[37,37,39,39,"errorStrategy"],[37,50,39,52],[37,51,39,53],[38,4,40,4],[39,4,41,4,"register"],[39,12,41,12,"register"],[39,13,41,13,"name"],[39,17,41,17],[39,19,41,19,"strategy"],[39,27,41,27],[39,29,41,29],[40,6,42,8],[40,10,42,12],[40,11,42,13,"registry"],[40,19,42,21],[40,20,42,22,"name"],[40,24,42,26],[40,25,42,27],[40,28,42,30,"strategy"],[40,36,42,38],[41,4,43,4],[42,4,44,4,"get"],[42,7,44,7,"get"],[42,8,44,8,"scope"],[42,13,44,13],[42,15,44,15,"options"],[42,22,44,22],[42,24,44,24],[43,6,45,8],[43,10,45,12,"_a"],[43,12,45,14],[44,6,46,8],[44,13,46,15],[44,17,46,19],[44,18,46,20,"registry"],[44,26,46,28],[44,27,46,29],[44,28,46,30,"_a"],[44,30,46,32],[44,33,46,35,"options"],[44,40,46,42],[44,41,46,43,"missingBehavior"],[44,56,46,58],[44,62,46,64],[44,66,46,68],[44,70,46,72,"_a"],[44,72,46,74],[44,77,46,79],[44,82,46,84],[44,83,46,85],[44,86,46,88,"_a"],[44,88,46,90],[44,91,46,93],[44,95,46,97],[44,96,46,98,"i18n"],[44,100,46,102],[44,101,46,103,"missingBehavior"],[44,116,46,118],[44,117,46,119],[44,118,46,120],[44,122,46,124],[44,123,46,125,"i18n"],[44,127,46,129],[44,129,46,131,"scope"],[44,134,46,136],[44,136,46,138,"options"],[44,143,46,145],[44,144,46,146],[45,4,47,4],[46,2,48,0],[47,2,49,0,"exports"],[47,9,49,7],[47,10,49,8,"MissingTranslation"],[47,28,49,26],[47,31,49,29,"MissingTranslation"],[47,49,49,47],[48,0,49,48],[48,3]],"functionMap":{"names":["<global>","guessStrategy","message.replace.replace$argument_1","messageStrategy","errorStrategy","MissingTranslation","constructor","register","get"],"mappings":"AAA;sBCI;wCCQ,+CD;CDC;wBGE;CHS;sBIE;CJI;AKE;ICC;KDM;IEC;KFE;IGC;KHG;CLC"},"hasCjsExports":true},"type":"js/module"}]}