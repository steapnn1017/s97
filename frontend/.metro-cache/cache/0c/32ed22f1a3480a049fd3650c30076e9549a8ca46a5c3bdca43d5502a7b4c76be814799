{"dependencies":[{"name":"bignumber.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":41,"index":41}}],"key":"+tJwKP0N5JISX+Ssl/Xk2Ffv6xc=","exportNames":["*"],"imports":1}},{"name":"./roundNumber","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":42},"end":{"line":2,"column":44,"index":86}}],"key":"Y7xkjXdyZvX0oKjAS3xvWnrM+Gc=","exportNames":["*"],"imports":1}},{"name":"./expandRoundMode","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":87},"end":{"line":3,"column":52,"index":139}}],"key":"efTaY56oYDJe9ZejgaFZEsr2m/Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.numberToHumanSize = numberToHumanSize;\n  var _bignumberJs = require(_dependencyMap[0], \"bignumber.js\");\n  var _roundNumber = require(_dependencyMap[1], \"./roundNumber\");\n  var _expandRoundMode = require(_dependencyMap[2], \"./expandRoundMode\");\n  const STORAGE_UNITS = [\"byte\", \"kb\", \"mb\", \"gb\", \"tb\", \"pb\", \"eb\"];\n  function numberToHumanSize(i18n, input, options) {\n    const roundMode = (0, _expandRoundMode.expandRoundMode)(options.roundMode);\n    const base = 1024;\n    const num = new _bignumberJs.BigNumber(input).abs();\n    const smallerThanBase = num.lt(base);\n    let numberToBeFormatted;\n    const computeExponent = (numeric, units) => {\n      const max = units.length - 1;\n      const exp = new _bignumberJs.BigNumber(Math.log(numeric.toNumber())).div(Math.log(base)).integerValue(_bignumberJs.BigNumber.ROUND_DOWN).toNumber();\n      return Math.min(max, exp);\n    };\n    const storageUnitKey = units => {\n      const keyEnd = smallerThanBase ? \"byte\" : units[exponent];\n      return `number.human.storage_units.units.${keyEnd}`;\n    };\n    const exponent = computeExponent(num, STORAGE_UNITS);\n    if (smallerThanBase) {\n      numberToBeFormatted = num.integerValue();\n    } else {\n      numberToBeFormatted = new _bignumberJs.BigNumber((0, _roundNumber.roundNumber)(num.div(Math.pow(base, exponent)), {\n        significant: options.significant,\n        precision: options.precision,\n        roundMode: options.roundMode\n      }));\n    }\n    const format = i18n.translate(\"number.human.storage_units.format\", {\n      defaultValue: \"%n %u\"\n    });\n    const unit = i18n.translate(storageUnitKey(STORAGE_UNITS), {\n      count: num.integerValue().toNumber()\n    });\n    let formattedNumber = numberToBeFormatted.toFixed(options.precision, roundMode);\n    if (options.stripInsignificantZeros) {\n      formattedNumber = formattedNumber.replace(/(\\..*?)0+$/, \"$1\").replace(/\\.$/, \"\");\n    }\n    return format.replace(\"%n\", formattedNumber).replace(\"%u\", unit);\n  }\n});","lineCount":49,"map":[[7,2,5,0,"exports"],[7,9,5,0],[7,10,5,0,"numberToHumanSize"],[7,27,5,0],[7,30,5,0,"numberToHumanSize"],[7,47,5,0],[8,2,1,0],[8,6,1,0,"_bignumberJs"],[8,18,1,0],[8,21,1,0,"require"],[8,28,1,0],[8,29,1,0,"_dependencyMap"],[8,43,1,0],[9,2,2,0],[9,6,2,0,"_roundNumber"],[9,18,2,0],[9,21,2,0,"require"],[9,28,2,0],[9,29,2,0,"_dependencyMap"],[9,43,2,0],[10,2,3,0],[10,6,3,0,"_expandRoundMode"],[10,22,3,0],[10,25,3,0,"require"],[10,32,3,0],[10,33,3,0,"_dependencyMap"],[10,47,3,0],[11,2,4,0],[11,8,4,6,"STORAGE_UNITS"],[11,21,4,19],[11,24,4,22],[11,25,4,23],[11,31,4,29],[11,33,4,31],[11,37,4,35],[11,39,4,37],[11,43,4,41],[11,45,4,43],[11,49,4,47],[11,51,4,49],[11,55,4,53],[11,57,4,55],[11,61,4,59],[11,63,4,61],[11,67,4,65],[11,68,4,66],[12,2,5,7],[12,11,5,16,"numberToHumanSize"],[12,28,5,33,"numberToHumanSize"],[12,29,5,34,"i18n"],[12,33,5,38],[12,35,5,40,"input"],[12,40,5,45],[12,42,5,47,"options"],[12,49,5,54],[12,51,5,56],[13,4,6,4],[13,10,6,10,"roundMode"],[13,19,6,19],[13,22,6,22],[13,26,6,22,"expandRoundMode"],[13,42,6,37],[13,43,6,37,"expandRoundMode"],[13,58,6,37],[13,60,6,38,"options"],[13,67,6,45],[13,68,6,46,"roundMode"],[13,77,6,55],[13,78,6,56],[14,4,7,4],[14,10,7,10,"base"],[14,14,7,14],[14,17,7,17],[14,21,7,21],[15,4,8,4],[15,10,8,10,"num"],[15,13,8,13],[15,16,8,16],[15,20,8,20,"BigNumber"],[15,32,8,29],[15,33,8,29,"BigNumber"],[15,42,8,29],[15,43,8,30,"input"],[15,48,8,35],[15,49,8,36],[15,50,8,37,"abs"],[15,53,8,40],[15,54,8,41],[15,55,8,42],[16,4,9,4],[16,10,9,10,"smallerThanBase"],[16,25,9,25],[16,28,9,28,"num"],[16,31,9,31],[16,32,9,32,"lt"],[16,34,9,34],[16,35,9,35,"base"],[16,39,9,39],[16,40,9,40],[17,4,10,4],[17,8,10,8,"numberToBeFormatted"],[17,27,10,27],[18,4,11,4],[18,10,11,10,"computeExponent"],[18,25,11,25],[18,28,11,28,"computeExponent"],[18,29,11,29,"numeric"],[18,36,11,36],[18,38,11,38,"units"],[18,43,11,43],[18,48,11,48],[19,6,12,8],[19,12,12,14,"max"],[19,15,12,17],[19,18,12,20,"units"],[19,23,12,25],[19,24,12,26,"length"],[19,30,12,32],[19,33,12,35],[19,34,12,36],[20,6,13,8],[20,12,13,14,"exp"],[20,15,13,17],[20,18,13,20],[20,22,13,24,"BigNumber"],[20,34,13,33],[20,35,13,33,"BigNumber"],[20,44,13,33],[20,45,13,34,"Math"],[20,49,13,38],[20,50,13,39,"log"],[20,53,13,42],[20,54,13,43,"numeric"],[20,61,13,50],[20,62,13,51,"toNumber"],[20,70,13,59],[20,71,13,60],[20,72,13,61],[20,73,13,62],[20,74,13,63],[20,75,14,13,"div"],[20,78,14,16],[20,79,14,17,"Math"],[20,83,14,21],[20,84,14,22,"log"],[20,87,14,25],[20,88,14,26,"base"],[20,92,14,30],[20,93,14,31],[20,94,14,32],[20,95,15,13,"integerValue"],[20,107,15,25],[20,108,15,26,"BigNumber"],[20,120,15,35],[20,121,15,35,"BigNumber"],[20,130,15,35],[20,131,15,36,"ROUND_DOWN"],[20,141,15,46],[20,142,15,47],[20,143,16,13,"toNumber"],[20,151,16,21],[20,152,16,22],[20,153,16,23],[21,6,17,8],[21,13,17,15,"Math"],[21,17,17,19],[21,18,17,20,"min"],[21,21,17,23],[21,22,17,24,"max"],[21,25,17,27],[21,27,17,29,"exp"],[21,30,17,32],[21,31,17,33],[22,4,18,4],[22,5,18,5],[23,4,19,4],[23,10,19,10,"storageUnitKey"],[23,24,19,24],[23,27,19,28,"units"],[23,32,19,33],[23,36,19,38],[24,6,20,8],[24,12,20,14,"keyEnd"],[24,18,20,20],[24,21,20,23,"smallerThanBase"],[24,36,20,38],[24,39,20,41],[24,45,20,47],[24,48,20,50,"units"],[24,53,20,55],[24,54,20,56,"exponent"],[24,62,20,64],[24,63,20,65],[25,6,21,8],[25,13,21,15],[25,49,21,51,"keyEnd"],[25,55,21,57],[25,57,21,59],[26,4,22,4],[26,5,22,5],[27,4,23,4],[27,10,23,10,"exponent"],[27,18,23,18],[27,21,23,21,"computeExponent"],[27,36,23,36],[27,37,23,37,"num"],[27,40,23,40],[27,42,23,42,"STORAGE_UNITS"],[27,55,23,55],[27,56,23,56],[28,4,24,4],[28,8,24,8,"smallerThanBase"],[28,23,24,23],[28,25,24,25],[29,6,25,8,"numberToBeFormatted"],[29,25,25,27],[29,28,25,30,"num"],[29,31,25,33],[29,32,25,34,"integerValue"],[29,44,25,46],[29,45,25,47],[29,46,25,48],[30,4,26,4],[30,5,26,5],[30,11,27,9],[31,6,28,8,"numberToBeFormatted"],[31,25,28,27],[31,28,28,30],[31,32,28,34,"BigNumber"],[31,44,28,43],[31,45,28,43,"BigNumber"],[31,54,28,43],[31,55,28,44],[31,59,28,44,"roundNumber"],[31,71,28,55],[31,72,28,55,"roundNumber"],[31,83,28,55],[31,85,28,56,"num"],[31,88,28,59],[31,89,28,60,"div"],[31,92,28,63],[31,93,28,64,"Math"],[31,97,28,68],[31,98,28,69,"pow"],[31,101,28,72],[31,102,28,73,"base"],[31,106,28,77],[31,108,28,79,"exponent"],[31,116,28,87],[31,117,28,88],[31,118,28,89],[31,120,28,91],[32,8,29,12,"significant"],[32,19,29,23],[32,21,29,25,"options"],[32,28,29,32],[32,29,29,33,"significant"],[32,40,29,44],[33,8,30,12,"precision"],[33,17,30,21],[33,19,30,23,"options"],[33,26,30,30],[33,27,30,31,"precision"],[33,36,30,40],[34,8,31,12,"roundMode"],[34,17,31,21],[34,19,31,23,"options"],[34,26,31,30],[34,27,31,31,"roundMode"],[35,6,32,8],[35,7,32,9],[35,8,32,10],[35,9,32,11],[36,4,33,4],[37,4,34,4],[37,10,34,10,"format"],[37,16,34,16],[37,19,34,19,"i18n"],[37,23,34,23],[37,24,34,24,"translate"],[37,33,34,33],[37,34,34,34],[37,69,34,69],[37,71,34,71],[38,6,35,8,"defaultValue"],[38,18,35,20],[38,20,35,22],[39,4,36,4],[39,5,36,5],[39,6,36,6],[40,4,37,4],[40,10,37,10,"unit"],[40,14,37,14],[40,17,37,17,"i18n"],[40,21,37,21],[40,22,37,22,"translate"],[40,31,37,31],[40,32,37,32,"storageUnitKey"],[40,46,37,46],[40,47,37,47,"STORAGE_UNITS"],[40,60,37,60],[40,61,37,61],[40,63,37,63],[41,6,38,8,"count"],[41,11,38,13],[41,13,38,15,"num"],[41,16,38,18],[41,17,38,19,"integerValue"],[41,29,38,31],[41,30,38,32],[41,31,38,33],[41,32,38,34,"toNumber"],[41,40,38,42],[41,41,38,43],[42,4,39,4],[42,5,39,5],[42,6,39,6],[43,4,40,4],[43,8,40,8,"formattedNumber"],[43,23,40,23],[43,26,40,26,"numberToBeFormatted"],[43,45,40,45],[43,46,40,46,"toFixed"],[43,53,40,53],[43,54,40,54,"options"],[43,61,40,61],[43,62,40,62,"precision"],[43,71,40,71],[43,73,40,73,"roundMode"],[43,82,40,82],[43,83,40,83],[44,4,41,4],[44,8,41,8,"options"],[44,15,41,15],[44,16,41,16,"stripInsignificantZeros"],[44,39,41,39],[44,41,41,41],[45,6,42,8,"formattedNumber"],[45,21,42,23],[45,24,42,26,"formattedNumber"],[45,39,42,41],[45,40,43,13,"replace"],[45,47,43,20],[45,48,43,21],[45,60,43,33],[45,62,43,35],[45,66,43,39],[45,67,43,40],[45,68,44,13,"replace"],[45,75,44,20],[45,76,44,21],[45,81,44,26],[45,83,44,28],[45,85,44,30],[45,86,44,31],[46,4,45,4],[47,4,46,4],[47,11,46,11,"format"],[47,17,46,17],[47,18,46,18,"replace"],[47,25,46,25],[47,26,46,26],[47,30,46,30],[47,32,46,32,"formattedNumber"],[47,47,46,47],[47,48,46,48],[47,49,46,49,"replace"],[47,56,46,56],[47,57,46,57],[47,61,46,61],[47,63,46,63,"unit"],[47,67,46,67],[47,68,46,68],[48,2,47,0],[49,0,47,1],[49,3]],"functionMap":{"names":["<global>","numberToHumanSize","computeExponent","storageUnitKey"],"mappings":"AAA;OCI;4BCM;KDO;2BEC;KFG;CDyB"},"hasCjsExports":false},"type":"js/module"}]}